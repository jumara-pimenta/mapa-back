datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_MSSQL_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Car {
  id              String   @id @default(uuid())
  plate           String   @unique
  company         String
  type            String
  lastSurvey      DateTime
  expiration      DateTime
  capacity        Int
  renavam         Int
  lastMaintenance DateTime
  note            String
  isAccessibility Boolean  @default(false)

  createdAt DateTime @default(now())

  @@map("cars")
}

model Driver {
  id         String   @id @default(uuid())
  name       String
  cpf        Decimal  @unique
  cnh        Decimal  @unique
  validation DateTime
  category   String

  createdAt DateTime @default(now())

  @@map("drivers")
}

model Employee {
  id           String   @id @default(uuid())
  registration Decimal  @unique
  name         String
  cpf          Decimal  @unique
  rg           Decimal  @unique
  admission    DateTime
  role         String
  shift        String
  costCenter   Decimal
  createdAt DateTime @default(now())
  address     Address[]
  @@map("employees")
}

model Address {
  id           String   @id @default(uuid())
  employee     Employee @relation(fields: [employeeId],references: [id])
  employeeId   String
  cep          Decimal  
  number       Decimal
  complement   String  
  neighborhood String  
  city         String
  state        String
  latitude     Decimal
  longitude    Decimal
  type         Boolean @default(false)
  createdAt DateTime @default(now())

  @@map("addresses")
  
}